---
title: ðŸ”¥ Releasing the ReVanced Manager
description: Before-takeoff checklist for releasing the ReVanced Manager.
hide_table_of_contents: false
---

# ðŸ”¥ How to ensure a release goes smoothly

> **NOTE**
> This guide is for ReVanced Manager (Flutter) only!

## ðŸ§‘â€ðŸ’» Development

### Rule-of-Engagement

Standard ReVanced procedure

During development, every user must PR to `dev` branch, pushing directly is an option
but not recommended unless the patch is absolutely needed.

### Setup

Requirements:

  - More than 4 GB of available memory[^1]
  - Java Development Kit 17 of any kinds
  - Latest Android SDK
  - Flutter 3.29 SDK
  - Any code editor of your choice
  - Optionally, Android device with `arm64-v8a`, `armeabi`, or `x86_64` architecture(s)

Quirks:

  - It's not possible to support `x86` architecture due to limitation with Flutter SDK

Once you have set up all that, make sure that you have the files required for compliation by 
running these commands on the root of your repository:

```bash
flutter pub get             # [1] Get the dependencies required for Flutter apps.
dart run slang              # [2] Build translation strings.
dart run build_runner -d    # [3] Build generated files.
```

### Assemble

You can assemble up to 3 variants, `release`, `debug`, and `profile`

Before you build, make sure that you have the files required for compliation by running these commands *once last time*:

```bash
flutter pub get             # [1] Get the dependencies required for Flutter apps.
dart run slang              # [2] Build translation strings.
dart run build_runner -d    # [3] Build generated files.
```

> **WARNING**
> If there's translation changes, you need to run `dart run slang` again to generate the translation strings.

#### Release

This is your standard run-of-the-mill variant that's shown to average user, 
the build will be stable and fast without any assisted development tools.

Log retrieval methods (sorted by recommendation)
  - Android logcat
  - Built in Share logs in manager's settings

To build it, run:

```bash
flutter build apk   # By default this will build release variant.
```

> **NOTE**
> This will build the APK with `debug` signature, the manager's identifier will be `development`
> If you need `release` identifier, specify keystores for the projects.

#### Debug

This variant comes with developer-assisted tools provided by Flutter to help during development,
the build will be incredibily and painfully inefficient and slow depending on devices tier

Log retrieval methods (sorted by recommendation)
  - Flutter commands
  - Android logcat
  - Built in Share logs in manager's settings

To build it, run:

```bash
flutter build apk --debug
```

> **TIP**
> During development you can connect your Android device using ADB and run `flutter run` to install the APK and 
> get access to Flutter's hot reload. If you have installed the `debug` APK already, you can open the app then
> run `flutter attach` to reconnect it.

#### Profile

This variant comes with developer-assisted tools specifically for profiling,
the build will be stable and fast just like `release` variant.

Log retrieval methods (sorted by recommendation)
  - Flutter commands
  - Android logcat
  - Built in Share logs in manager's settings

```bash
flutter build apk --profile
```

> **TIP**
> If you have installed the `profile` APK already, you can open the app then run `flutter attach` to reconnect it.
> However you won't be able to do any debugging or hot reload except profiling.

### Format check

Note that format check should be done every time as it can cause *lots of* merge conflicts,
if a repository goes without format check for a long time, 
leave it as is as it's very destructive if done later on or gradually format it if it's absolutely needed.

```bash
dart format file.dart   # If you want to format a specific of the file
dart format .           # If you want to format all of the files
```

## âœ… Quality Assurance

Tests are carried by *ad-hoc* basis, you can test the ReVanced Manager by using either Android emulator or 
physical Android device with any of the supported API levels ***and the newest/development levels for compatibility***.

You should test the areas that have been primarily affected by changes then follow by lastly, patching the app.

## ðŸ›« Ready-Set-Go! (Release)

Standard ReVanced procedure

Every changes pushed to `dev` branch, a bot will open a draft PR merging `dev` changes to `main` which is
the golden branch, once you've tested the app, mark the PR as ready, approve it then wait for another
maintainers or trusted contributors to approve it, merge it then the workflow will handle everything for you.

### Pre-Semantic Release procedure

If you're dealing with legacy branch and wish to create a release, *hopefully you shouldn't*
this is how we did it.

#### Update the version code in `pubspec.yaml`

```yaml
# Version format: A.B.C.D+A X X B X X C X X
#
# A is the major version
# B is the minor version
# C is the patch version
# D is build modifier (e.g., -dev.1)
#
# All as defined by Semantic Versioning

version: version+versionCode  # example: 1.9.3+100900300
```

#### Create tag on the repository

```bash
git tag v(version)
git push --tags
```

You could optionally write description for the tag or do `git tag -s v(version)` if you wish to create signed tag

#### Sit back, relax

The release workflow should release the build as intended if there isn't any compliation errors.

[^1]: Estimation based on *project memory requirements + 1 GB buffer*, so *3072 + 1024* = 4096 MB or ~4 GB
